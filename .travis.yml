language: cpp
matrix:
  include:
    - os: linux
      dist: trusty
      sudo: required
      compiler: gcc
    - os: linux
      dist: trusty
      sudo: required
      compiler: clang
    - os: osx
      osx_image: xcode8
      compiler: clang
before_install:
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y ; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get update -q ; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get install -y gcc-5 g++-5 ; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get install -y clang-3.8 clang++-3.8 ; fi
script: 
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]] && [ $CC == gcc ]; then export CC=gcc-5; export CXX=g++-5; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]] && [ $CC == clang ]; then export CC=clang-3.8; export CXX=clang++-3.8; fi
  - mkdir build_debug
  - cd build_debug
  - cmake ../
  - make -j2 
  - make test ARGS=-j2
